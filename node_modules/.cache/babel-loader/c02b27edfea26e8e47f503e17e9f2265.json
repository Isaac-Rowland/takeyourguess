{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\n\nconst {\n  getChunkFilenameTemplate\n} = require(\"./css/CssModulesPlugin\");\n\nconst RuntimeRequirementsDependency = require(\"./dependencies/RuntimeRequirementsDependency\");\n\nconst JavascriptModulesPlugin = require(\"./javascript/JavascriptModulesPlugin\");\n\nconst AsyncModuleRuntimeModule = require(\"./runtime/AsyncModuleRuntimeModule\");\n\nconst AutoPublicPathRuntimeModule = require(\"./runtime/AutoPublicPathRuntimeModule\");\n\nconst BaseUriRuntimeModule = require(\"./runtime/BaseUriRuntimeModule\");\n\nconst CompatGetDefaultExportRuntimeModule = require(\"./runtime/CompatGetDefaultExportRuntimeModule\");\n\nconst CompatRuntimeModule = require(\"./runtime/CompatRuntimeModule\");\n\nconst CreateFakeNamespaceObjectRuntimeModule = require(\"./runtime/CreateFakeNamespaceObjectRuntimeModule\");\n\nconst CreateScriptRuntimeModule = require(\"./runtime/CreateScriptRuntimeModule\");\n\nconst CreateScriptUrlRuntimeModule = require(\"./runtime/CreateScriptUrlRuntimeModule\");\n\nconst DefinePropertyGettersRuntimeModule = require(\"./runtime/DefinePropertyGettersRuntimeModule\");\n\nconst EnsureChunkRuntimeModule = require(\"./runtime/EnsureChunkRuntimeModule\");\n\nconst GetChunkFilenameRuntimeModule = require(\"./runtime/GetChunkFilenameRuntimeModule\");\n\nconst GetMainFilenameRuntimeModule = require(\"./runtime/GetMainFilenameRuntimeModule\");\n\nconst GetTrustedTypesPolicyRuntimeModule = require(\"./runtime/GetTrustedTypesPolicyRuntimeModule\");\n\nconst GlobalRuntimeModule = require(\"./runtime/GlobalRuntimeModule\");\n\nconst HasOwnPropertyRuntimeModule = require(\"./runtime/HasOwnPropertyRuntimeModule\");\n\nconst LoadScriptRuntimeModule = require(\"./runtime/LoadScriptRuntimeModule\");\n\nconst MakeNamespaceObjectRuntimeModule = require(\"./runtime/MakeNamespaceObjectRuntimeModule\");\n\nconst OnChunksLoadedRuntimeModule = require(\"./runtime/OnChunksLoadedRuntimeModule\");\n\nconst PublicPathRuntimeModule = require(\"./runtime/PublicPathRuntimeModule\");\n\nconst RelativeUrlRuntimeModule = require(\"./runtime/RelativeUrlRuntimeModule\");\n\nconst RuntimeIdRuntimeModule = require(\"./runtime/RuntimeIdRuntimeModule\");\n\nconst SystemContextRuntimeModule = require(\"./runtime/SystemContextRuntimeModule\");\n\nconst ShareRuntimeModule = require(\"./sharing/ShareRuntimeModule\");\n\nconst StringXor = require(\"./util/StringXor\");\n/** @typedef {import(\"./Chunk\")} Chunk */\n\n/** @typedef {import(\"./Compiler\")} Compiler */\n\n/** @typedef {import(\"./Module\")} Module */\n\n\nconst GLOBALS_ON_REQUIRE = [RuntimeGlobals.chunkName, RuntimeGlobals.runtimeId, RuntimeGlobals.compatGetDefaultExport, RuntimeGlobals.createFakeNamespaceObject, RuntimeGlobals.createScript, RuntimeGlobals.createScriptUrl, RuntimeGlobals.getTrustedTypesPolicy, RuntimeGlobals.definePropertyGetters, RuntimeGlobals.ensureChunk, RuntimeGlobals.entryModuleId, RuntimeGlobals.getFullHash, RuntimeGlobals.global, RuntimeGlobals.makeNamespaceObject, RuntimeGlobals.moduleCache, RuntimeGlobals.moduleFactories, RuntimeGlobals.moduleFactoriesAddOnly, RuntimeGlobals.interceptModuleExecution, RuntimeGlobals.publicPath, RuntimeGlobals.baseURI, RuntimeGlobals.relativeUrl, RuntimeGlobals.scriptNonce, RuntimeGlobals.uncaughtErrorHandler, RuntimeGlobals.asyncModule, RuntimeGlobals.wasmInstances, RuntimeGlobals.instantiateWasm, RuntimeGlobals.shareScopeMap, RuntimeGlobals.initializeSharing, RuntimeGlobals.loadScript, RuntimeGlobals.systemContext, RuntimeGlobals.onChunksLoaded];\nconst MODULE_DEPENDENCIES = {\n  [RuntimeGlobals.moduleLoaded]: [RuntimeGlobals.module],\n  [RuntimeGlobals.moduleId]: [RuntimeGlobals.module]\n};\nconst TREE_DEPENDENCIES = {\n  [RuntimeGlobals.definePropertyGetters]: [RuntimeGlobals.hasOwnProperty],\n  [RuntimeGlobals.compatGetDefaultExport]: [RuntimeGlobals.definePropertyGetters],\n  [RuntimeGlobals.createFakeNamespaceObject]: [RuntimeGlobals.definePropertyGetters, RuntimeGlobals.makeNamespaceObject, RuntimeGlobals.require],\n  [RuntimeGlobals.initializeSharing]: [RuntimeGlobals.shareScopeMap],\n  [RuntimeGlobals.shareScopeMap]: [RuntimeGlobals.hasOwnProperty]\n};\n\nclass RuntimePlugin {\n  /**\n   * @param {Compiler} compiler the Compiler\n   * @returns {void}\n   */\n  apply(compiler) {\n    compiler.hooks.compilation.tap(\"RuntimePlugin\", compilation => {\n      const globalChunkLoading = compilation.outputOptions.chunkLoading;\n\n      const isChunkLoadingDisabledForChunk = chunk => {\n        const options = chunk.getEntryOptions();\n        const chunkLoading = options && options.chunkLoading !== undefined ? options.chunkLoading : globalChunkLoading;\n        return chunkLoading === false;\n      };\n\n      compilation.dependencyTemplates.set(RuntimeRequirementsDependency, new RuntimeRequirementsDependency.Template());\n\n      for (const req of GLOBALS_ON_REQUIRE) {\n        compilation.hooks.runtimeRequirementInModule.for(req).tap(\"RuntimePlugin\", (module, set) => {\n          set.add(RuntimeGlobals.requireScope);\n        });\n        compilation.hooks.runtimeRequirementInTree.for(req).tap(\"RuntimePlugin\", (module, set) => {\n          set.add(RuntimeGlobals.requireScope);\n        });\n      }\n\n      for (const req of Object.keys(TREE_DEPENDENCIES)) {\n        const deps = TREE_DEPENDENCIES[req];\n        compilation.hooks.runtimeRequirementInTree.for(req).tap(\"RuntimePlugin\", (chunk, set) => {\n          for (const dep of deps) set.add(dep);\n        });\n      }\n\n      for (const req of Object.keys(MODULE_DEPENDENCIES)) {\n        const deps = MODULE_DEPENDENCIES[req];\n        compilation.hooks.runtimeRequirementInModule.for(req).tap(\"RuntimePlugin\", (chunk, set) => {\n          for (const dep of deps) set.add(dep);\n        });\n      }\n\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.definePropertyGetters).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new DefinePropertyGettersRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.makeNamespaceObject).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new MakeNamespaceObjectRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.createFakeNamespaceObject).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new CreateFakeNamespaceObjectRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.hasOwnProperty).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new HasOwnPropertyRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.compatGetDefaultExport).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new CompatGetDefaultExportRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.runtimeId).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new RuntimeIdRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.publicPath).tap(\"RuntimePlugin\", (chunk, set) => {\n        const {\n          outputOptions\n        } = compilation;\n        const {\n          publicPath: globalPublicPath,\n          scriptType\n        } = outputOptions;\n        const entryOptions = chunk.getEntryOptions();\n        const publicPath = entryOptions && entryOptions.publicPath !== undefined ? entryOptions.publicPath : globalPublicPath;\n\n        if (publicPath === \"auto\") {\n          const module = new AutoPublicPathRuntimeModule();\n          if (scriptType !== \"module\") set.add(RuntimeGlobals.global);\n          compilation.addRuntimeModule(chunk, module);\n        } else {\n          const module = new PublicPathRuntimeModule(publicPath);\n\n          if (typeof publicPath !== \"string\" || /\\[(full)?hash\\]/.test(publicPath)) {\n            module.fullHash = true;\n          }\n\n          compilation.addRuntimeModule(chunk, module);\n        }\n\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.global).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new GlobalRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.asyncModule).tap(\"RuntimePlugin\", chunk => {\n        compilation.addRuntimeModule(chunk, new AsyncModuleRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.systemContext).tap(\"RuntimePlugin\", chunk => {\n        const {\n          outputOptions\n        } = compilation;\n        const {\n          library: globalLibrary\n        } = outputOptions;\n        const entryOptions = chunk.getEntryOptions();\n        const libraryType = entryOptions && entryOptions.library !== undefined ? entryOptions.library.type : globalLibrary.type;\n\n        if (libraryType === \"system\") {\n          compilation.addRuntimeModule(chunk, new SystemContextRuntimeModule());\n        }\n\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.getChunkScriptFilename).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (typeof compilation.outputOptions.chunkFilename === \"string\" && /\\[(full)?hash(:\\d+)?\\]/.test(compilation.outputOptions.chunkFilename)) {\n          set.add(RuntimeGlobals.getFullHash);\n        }\n\n        compilation.addRuntimeModule(chunk, new GetChunkFilenameRuntimeModule(\"javascript\", \"javascript\", RuntimeGlobals.getChunkScriptFilename, chunk => chunk.filenameTemplate || (chunk.canBeInitial() ? compilation.outputOptions.filename : compilation.outputOptions.chunkFilename), false));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.getChunkCssFilename).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (typeof compilation.outputOptions.cssChunkFilename === \"string\" && /\\[(full)?hash(:\\d+)?\\]/.test(compilation.outputOptions.cssChunkFilename)) {\n          set.add(RuntimeGlobals.getFullHash);\n        }\n\n        compilation.addRuntimeModule(chunk, new GetChunkFilenameRuntimeModule(\"css\", \"css\", RuntimeGlobals.getChunkCssFilename, chunk => getChunkFilenameTemplate(chunk, compilation.outputOptions), set.has(RuntimeGlobals.hmrDownloadUpdateHandlers)));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.getChunkUpdateScriptFilename).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (/\\[(full)?hash(:\\d+)?\\]/.test(compilation.outputOptions.hotUpdateChunkFilename)) set.add(RuntimeGlobals.getFullHash);\n        compilation.addRuntimeModule(chunk, new GetChunkFilenameRuntimeModule(\"javascript\", \"javascript update\", RuntimeGlobals.getChunkUpdateScriptFilename, c => compilation.outputOptions.hotUpdateChunkFilename, true));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.getUpdateManifestFilename).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (/\\[(full)?hash(:\\d+)?\\]/.test(compilation.outputOptions.hotUpdateMainFilename)) {\n          set.add(RuntimeGlobals.getFullHash);\n        }\n\n        compilation.addRuntimeModule(chunk, new GetMainFilenameRuntimeModule(\"update manifest\", RuntimeGlobals.getUpdateManifestFilename, compilation.outputOptions.hotUpdateMainFilename));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.ensureChunk).tap(\"RuntimePlugin\", (chunk, set) => {\n        const hasAsyncChunks = chunk.hasAsyncChunks();\n\n        if (hasAsyncChunks) {\n          set.add(RuntimeGlobals.ensureChunkHandlers);\n        }\n\n        compilation.addRuntimeModule(chunk, new EnsureChunkRuntimeModule(set));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.ensureChunkIncludeEntries).tap(\"RuntimePlugin\", (chunk, set) => {\n        set.add(RuntimeGlobals.ensureChunkHandlers);\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.shareScopeMap).tap(\"RuntimePlugin\", (chunk, set) => {\n        compilation.addRuntimeModule(chunk, new ShareRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.loadScript).tap(\"RuntimePlugin\", (chunk, set) => {\n        const withCreateScriptUrl = !!compilation.outputOptions.trustedTypes;\n\n        if (withCreateScriptUrl) {\n          set.add(RuntimeGlobals.createScriptUrl);\n        }\n\n        compilation.addRuntimeModule(chunk, new LoadScriptRuntimeModule(withCreateScriptUrl));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.createScript).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (compilation.outputOptions.trustedTypes) {\n          set.add(RuntimeGlobals.getTrustedTypesPolicy);\n        }\n\n        compilation.addRuntimeModule(chunk, new CreateScriptRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.createScriptUrl).tap(\"RuntimePlugin\", (chunk, set) => {\n        if (compilation.outputOptions.trustedTypes) {\n          set.add(RuntimeGlobals.getTrustedTypesPolicy);\n        }\n\n        compilation.addRuntimeModule(chunk, new CreateScriptUrlRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.getTrustedTypesPolicy).tap(\"RuntimePlugin\", (chunk, set) => {\n        compilation.addRuntimeModule(chunk, new GetTrustedTypesPolicyRuntimeModule(set));\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.relativeUrl).tap(\"RuntimePlugin\", (chunk, set) => {\n        compilation.addRuntimeModule(chunk, new RelativeUrlRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.onChunksLoaded).tap(\"RuntimePlugin\", (chunk, set) => {\n        compilation.addRuntimeModule(chunk, new OnChunksLoadedRuntimeModule());\n        return true;\n      });\n      compilation.hooks.runtimeRequirementInTree.for(RuntimeGlobals.baseURI).tap(\"RuntimePlugin\", chunk => {\n        if (isChunkLoadingDisabledForChunk(chunk)) {\n          compilation.addRuntimeModule(chunk, new BaseUriRuntimeModule());\n          return true;\n        }\n      }); // TODO webpack 6: remove CompatRuntimeModule\n\n      compilation.hooks.additionalTreeRuntimeRequirements.tap(\"RuntimePlugin\", (chunk, set) => {\n        const {\n          mainTemplate\n        } = compilation;\n\n        if (mainTemplate.hooks.bootstrap.isUsed() || mainTemplate.hooks.localVars.isUsed() || mainTemplate.hooks.requireEnsure.isUsed() || mainTemplate.hooks.requireExtensions.isUsed()) {\n          compilation.addRuntimeModule(chunk, new CompatRuntimeModule());\n        }\n      });\n      JavascriptModulesPlugin.getCompilationHooks(compilation).chunkHash.tap(\"RuntimePlugin\", (chunk, hash, _ref) => {\n        let {\n          chunkGraph\n        } = _ref;\n        const xor = new StringXor();\n\n        for (const m of chunkGraph.getChunkRuntimeModulesIterable(chunk)) {\n          xor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n        }\n\n        xor.updateHash(hash);\n      });\n    });\n  }\n\n}\n\nmodule.exports = RuntimePlugin;","map":{"version":3,"sources":["/Users/isaacrowland/sei/project4/takeyourguess/node_modules/webpack/lib/RuntimePlugin.js"],"names":["RuntimeGlobals","require","getChunkFilenameTemplate","RuntimeRequirementsDependency","JavascriptModulesPlugin","AsyncModuleRuntimeModule","AutoPublicPathRuntimeModule","BaseUriRuntimeModule","CompatGetDefaultExportRuntimeModule","CompatRuntimeModule","CreateFakeNamespaceObjectRuntimeModule","CreateScriptRuntimeModule","CreateScriptUrlRuntimeModule","DefinePropertyGettersRuntimeModule","EnsureChunkRuntimeModule","GetChunkFilenameRuntimeModule","GetMainFilenameRuntimeModule","GetTrustedTypesPolicyRuntimeModule","GlobalRuntimeModule","HasOwnPropertyRuntimeModule","LoadScriptRuntimeModule","MakeNamespaceObjectRuntimeModule","OnChunksLoadedRuntimeModule","PublicPathRuntimeModule","RelativeUrlRuntimeModule","RuntimeIdRuntimeModule","SystemContextRuntimeModule","ShareRuntimeModule","StringXor","GLOBALS_ON_REQUIRE","chunkName","runtimeId","compatGetDefaultExport","createFakeNamespaceObject","createScript","createScriptUrl","getTrustedTypesPolicy","definePropertyGetters","ensureChunk","entryModuleId","getFullHash","global","makeNamespaceObject","moduleCache","moduleFactories","moduleFactoriesAddOnly","interceptModuleExecution","publicPath","baseURI","relativeUrl","scriptNonce","uncaughtErrorHandler","asyncModule","wasmInstances","instantiateWasm","shareScopeMap","initializeSharing","loadScript","systemContext","onChunksLoaded","MODULE_DEPENDENCIES","moduleLoaded","module","moduleId","TREE_DEPENDENCIES","hasOwnProperty","RuntimePlugin","apply","compiler","hooks","compilation","tap","globalChunkLoading","outputOptions","chunkLoading","isChunkLoadingDisabledForChunk","chunk","options","getEntryOptions","undefined","dependencyTemplates","set","Template","req","runtimeRequirementInModule","for","add","requireScope","runtimeRequirementInTree","Object","keys","deps","dep","addRuntimeModule","globalPublicPath","scriptType","entryOptions","test","fullHash","library","globalLibrary","libraryType","type","getChunkScriptFilename","chunkFilename","filenameTemplate","canBeInitial","filename","getChunkCssFilename","cssChunkFilename","has","hmrDownloadUpdateHandlers","getChunkUpdateScriptFilename","hotUpdateChunkFilename","c","getUpdateManifestFilename","hotUpdateMainFilename","hasAsyncChunks","ensureChunkHandlers","ensureChunkIncludeEntries","withCreateScriptUrl","trustedTypes","additionalTreeRuntimeRequirements","mainTemplate","bootstrap","isUsed","localVars","requireEnsure","requireExtensions","getCompilationHooks","chunkHash","hash","chunkGraph","xor","m","getChunkRuntimeModulesIterable","getModuleHash","runtime","updateHash","exports"],"mappings":"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","sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\n\"use strict\";\n\nconst RuntimeGlobals = require(\"./RuntimeGlobals\");\nconst { getChunkFilenameTemplate } = require(\"./css/CssModulesPlugin\");\nconst RuntimeRequirementsDependency = require(\"./dependencies/RuntimeRequirementsDependency\");\nconst JavascriptModulesPlugin = require(\"./javascript/JavascriptModulesPlugin\");\nconst AsyncModuleRuntimeModule = require(\"./runtime/AsyncModuleRuntimeModule\");\nconst AutoPublicPathRuntimeModule = require(\"./runtime/AutoPublicPathRuntimeModule\");\nconst BaseUriRuntimeModule = require(\"./runtime/BaseUriRuntimeModule\");\nconst CompatGetDefaultExportRuntimeModule = require(\"./runtime/CompatGetDefaultExportRuntimeModule\");\nconst CompatRuntimeModule = require(\"./runtime/CompatRuntimeModule\");\nconst CreateFakeNamespaceObjectRuntimeModule = require(\"./runtime/CreateFakeNamespaceObjectRuntimeModule\");\nconst CreateScriptRuntimeModule = require(\"./runtime/CreateScriptRuntimeModule\");\nconst CreateScriptUrlRuntimeModule = require(\"./runtime/CreateScriptUrlRuntimeModule\");\nconst DefinePropertyGettersRuntimeModule = require(\"./runtime/DefinePropertyGettersRuntimeModule\");\nconst EnsureChunkRuntimeModule = require(\"./runtime/EnsureChunkRuntimeModule\");\nconst GetChunkFilenameRuntimeModule = require(\"./runtime/GetChunkFilenameRuntimeModule\");\nconst GetMainFilenameRuntimeModule = require(\"./runtime/GetMainFilenameRuntimeModule\");\nconst GetTrustedTypesPolicyRuntimeModule = require(\"./runtime/GetTrustedTypesPolicyRuntimeModule\");\nconst GlobalRuntimeModule = require(\"./runtime/GlobalRuntimeModule\");\nconst HasOwnPropertyRuntimeModule = require(\"./runtime/HasOwnPropertyRuntimeModule\");\nconst LoadScriptRuntimeModule = require(\"./runtime/LoadScriptRuntimeModule\");\nconst MakeNamespaceObjectRuntimeModule = require(\"./runtime/MakeNamespaceObjectRuntimeModule\");\nconst OnChunksLoadedRuntimeModule = require(\"./runtime/OnChunksLoadedRuntimeModule\");\nconst PublicPathRuntimeModule = require(\"./runtime/PublicPathRuntimeModule\");\nconst RelativeUrlRuntimeModule = require(\"./runtime/RelativeUrlRuntimeModule\");\nconst RuntimeIdRuntimeModule = require(\"./runtime/RuntimeIdRuntimeModule\");\nconst SystemContextRuntimeModule = require(\"./runtime/SystemContextRuntimeModule\");\nconst ShareRuntimeModule = require(\"./sharing/ShareRuntimeModule\");\nconst StringXor = require(\"./util/StringXor\");\n\n/** @typedef {import(\"./Chunk\")} Chunk */\n/** @typedef {import(\"./Compiler\")} Compiler */\n/** @typedef {import(\"./Module\")} Module */\n\nconst GLOBALS_ON_REQUIRE = [\n\tRuntimeGlobals.chunkName,\n\tRuntimeGlobals.runtimeId,\n\tRuntimeGlobals.compatGetDefaultExport,\n\tRuntimeGlobals.createFakeNamespaceObject,\n\tRuntimeGlobals.createScript,\n\tRuntimeGlobals.createScriptUrl,\n\tRuntimeGlobals.getTrustedTypesPolicy,\n\tRuntimeGlobals.definePropertyGetters,\n\tRuntimeGlobals.ensureChunk,\n\tRuntimeGlobals.entryModuleId,\n\tRuntimeGlobals.getFullHash,\n\tRuntimeGlobals.global,\n\tRuntimeGlobals.makeNamespaceObject,\n\tRuntimeGlobals.moduleCache,\n\tRuntimeGlobals.moduleFactories,\n\tRuntimeGlobals.moduleFactoriesAddOnly,\n\tRuntimeGlobals.interceptModuleExecution,\n\tRuntimeGlobals.publicPath,\n\tRuntimeGlobals.baseURI,\n\tRuntimeGlobals.relativeUrl,\n\tRuntimeGlobals.scriptNonce,\n\tRuntimeGlobals.uncaughtErrorHandler,\n\tRuntimeGlobals.asyncModule,\n\tRuntimeGlobals.wasmInstances,\n\tRuntimeGlobals.instantiateWasm,\n\tRuntimeGlobals.shareScopeMap,\n\tRuntimeGlobals.initializeSharing,\n\tRuntimeGlobals.loadScript,\n\tRuntimeGlobals.systemContext,\n\tRuntimeGlobals.onChunksLoaded\n];\n\nconst MODULE_DEPENDENCIES = {\n\t[RuntimeGlobals.moduleLoaded]: [RuntimeGlobals.module],\n\t[RuntimeGlobals.moduleId]: [RuntimeGlobals.module]\n};\n\nconst TREE_DEPENDENCIES = {\n\t[RuntimeGlobals.definePropertyGetters]: [RuntimeGlobals.hasOwnProperty],\n\t[RuntimeGlobals.compatGetDefaultExport]: [\n\t\tRuntimeGlobals.definePropertyGetters\n\t],\n\t[RuntimeGlobals.createFakeNamespaceObject]: [\n\t\tRuntimeGlobals.definePropertyGetters,\n\t\tRuntimeGlobals.makeNamespaceObject,\n\t\tRuntimeGlobals.require\n\t],\n\t[RuntimeGlobals.initializeSharing]: [RuntimeGlobals.shareScopeMap],\n\t[RuntimeGlobals.shareScopeMap]: [RuntimeGlobals.hasOwnProperty]\n};\n\nclass RuntimePlugin {\n\t/**\n\t * @param {Compiler} compiler the Compiler\n\t * @returns {void}\n\t */\n\tapply(compiler) {\n\t\tcompiler.hooks.compilation.tap(\"RuntimePlugin\", compilation => {\n\t\t\tconst globalChunkLoading = compilation.outputOptions.chunkLoading;\n\t\t\tconst isChunkLoadingDisabledForChunk = chunk => {\n\t\t\t\tconst options = chunk.getEntryOptions();\n\t\t\t\tconst chunkLoading =\n\t\t\t\t\toptions && options.chunkLoading !== undefined\n\t\t\t\t\t\t? options.chunkLoading\n\t\t\t\t\t\t: globalChunkLoading;\n\t\t\t\treturn chunkLoading === false;\n\t\t\t};\n\t\t\tcompilation.dependencyTemplates.set(\n\t\t\t\tRuntimeRequirementsDependency,\n\t\t\t\tnew RuntimeRequirementsDependency.Template()\n\t\t\t);\n\t\t\tfor (const req of GLOBALS_ON_REQUIRE) {\n\t\t\t\tcompilation.hooks.runtimeRequirementInModule\n\t\t\t\t\t.for(req)\n\t\t\t\t\t.tap(\"RuntimePlugin\", (module, set) => {\n\t\t\t\t\t\tset.add(RuntimeGlobals.requireScope);\n\t\t\t\t\t});\n\t\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t\t.for(req)\n\t\t\t\t\t.tap(\"RuntimePlugin\", (module, set) => {\n\t\t\t\t\t\tset.add(RuntimeGlobals.requireScope);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tfor (const req of Object.keys(TREE_DEPENDENCIES)) {\n\t\t\t\tconst deps = TREE_DEPENDENCIES[req];\n\t\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t\t.for(req)\n\t\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\t\tfor (const dep of deps) set.add(dep);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tfor (const req of Object.keys(MODULE_DEPENDENCIES)) {\n\t\t\t\tconst deps = MODULE_DEPENDENCIES[req];\n\t\t\t\tcompilation.hooks.runtimeRequirementInModule\n\t\t\t\t\t.for(req)\n\t\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\t\tfor (const dep of deps) set.add(dep);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.definePropertyGetters)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew DefinePropertyGettersRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.makeNamespaceObject)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew MakeNamespaceObjectRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.createFakeNamespaceObject)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew CreateFakeNamespaceObjectRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.hasOwnProperty)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew HasOwnPropertyRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.compatGetDefaultExport)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew CompatGetDefaultExportRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.runtimeId)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new RuntimeIdRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.publicPath)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tconst { outputOptions } = compilation;\n\t\t\t\t\tconst { publicPath: globalPublicPath, scriptType } = outputOptions;\n\t\t\t\t\tconst entryOptions = chunk.getEntryOptions();\n\t\t\t\t\tconst publicPath =\n\t\t\t\t\t\tentryOptions && entryOptions.publicPath !== undefined\n\t\t\t\t\t\t\t? entryOptions.publicPath\n\t\t\t\t\t\t\t: globalPublicPath;\n\n\t\t\t\t\tif (publicPath === \"auto\") {\n\t\t\t\t\t\tconst module = new AutoPublicPathRuntimeModule();\n\t\t\t\t\t\tif (scriptType !== \"module\") set.add(RuntimeGlobals.global);\n\t\t\t\t\t\tcompilation.addRuntimeModule(chunk, module);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconst module = new PublicPathRuntimeModule(publicPath);\n\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\ttypeof publicPath !== \"string\" ||\n\t\t\t\t\t\t\t/\\[(full)?hash\\]/.test(publicPath)\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tmodule.fullHash = true;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcompilation.addRuntimeModule(chunk, module);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.global)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new GlobalRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.asyncModule)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new AsyncModuleRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.systemContext)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tconst { outputOptions } = compilation;\n\t\t\t\t\tconst { library: globalLibrary } = outputOptions;\n\t\t\t\t\tconst entryOptions = chunk.getEntryOptions();\n\t\t\t\t\tconst libraryType =\n\t\t\t\t\t\tentryOptions && entryOptions.library !== undefined\n\t\t\t\t\t\t\t? entryOptions.library.type\n\t\t\t\t\t\t\t: globalLibrary.type;\n\n\t\t\t\t\tif (libraryType === \"system\") {\n\t\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\t\tchunk,\n\t\t\t\t\t\t\tnew SystemContextRuntimeModule()\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.getChunkScriptFilename)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof compilation.outputOptions.chunkFilename === \"string\" &&\n\t\t\t\t\t\t/\\[(full)?hash(:\\d+)?\\]/.test(\n\t\t\t\t\t\t\tcompilation.outputOptions.chunkFilename\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.getFullHash);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew GetChunkFilenameRuntimeModule(\n\t\t\t\t\t\t\t\"javascript\",\n\t\t\t\t\t\t\t\"javascript\",\n\t\t\t\t\t\t\tRuntimeGlobals.getChunkScriptFilename,\n\t\t\t\t\t\t\tchunk =>\n\t\t\t\t\t\t\t\tchunk.filenameTemplate ||\n\t\t\t\t\t\t\t\t(chunk.canBeInitial()\n\t\t\t\t\t\t\t\t\t? compilation.outputOptions.filename\n\t\t\t\t\t\t\t\t\t: compilation.outputOptions.chunkFilename),\n\t\t\t\t\t\t\tfalse\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.getChunkCssFilename)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\ttypeof compilation.outputOptions.cssChunkFilename === \"string\" &&\n\t\t\t\t\t\t/\\[(full)?hash(:\\d+)?\\]/.test(\n\t\t\t\t\t\t\tcompilation.outputOptions.cssChunkFilename\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.getFullHash);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew GetChunkFilenameRuntimeModule(\n\t\t\t\t\t\t\t\"css\",\n\t\t\t\t\t\t\t\"css\",\n\t\t\t\t\t\t\tRuntimeGlobals.getChunkCssFilename,\n\t\t\t\t\t\t\tchunk =>\n\t\t\t\t\t\t\t\tgetChunkFilenameTemplate(chunk, compilation.outputOptions),\n\t\t\t\t\t\t\tset.has(RuntimeGlobals.hmrDownloadUpdateHandlers)\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.getChunkUpdateScriptFilename)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t/\\[(full)?hash(:\\d+)?\\]/.test(\n\t\t\t\t\t\t\tcompilation.outputOptions.hotUpdateChunkFilename\n\t\t\t\t\t\t)\n\t\t\t\t\t)\n\t\t\t\t\t\tset.add(RuntimeGlobals.getFullHash);\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew GetChunkFilenameRuntimeModule(\n\t\t\t\t\t\t\t\"javascript\",\n\t\t\t\t\t\t\t\"javascript update\",\n\t\t\t\t\t\t\tRuntimeGlobals.getChunkUpdateScriptFilename,\n\t\t\t\t\t\t\tc => compilation.outputOptions.hotUpdateChunkFilename,\n\t\t\t\t\t\t\ttrue\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.getUpdateManifestFilename)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (\n\t\t\t\t\t\t/\\[(full)?hash(:\\d+)?\\]/.test(\n\t\t\t\t\t\t\tcompilation.outputOptions.hotUpdateMainFilename\n\t\t\t\t\t\t)\n\t\t\t\t\t) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.getFullHash);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew GetMainFilenameRuntimeModule(\n\t\t\t\t\t\t\t\"update manifest\",\n\t\t\t\t\t\t\tRuntimeGlobals.getUpdateManifestFilename,\n\t\t\t\t\t\t\tcompilation.outputOptions.hotUpdateMainFilename\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.ensureChunk)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tconst hasAsyncChunks = chunk.hasAsyncChunks();\n\t\t\t\t\tif (hasAsyncChunks) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.ensureChunkHandlers);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew EnsureChunkRuntimeModule(set)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.ensureChunkIncludeEntries)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tset.add(RuntimeGlobals.ensureChunkHandlers);\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.shareScopeMap)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new ShareRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.loadScript)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tconst withCreateScriptUrl = !!compilation.outputOptions.trustedTypes;\n\t\t\t\t\tif (withCreateScriptUrl) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.createScriptUrl);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew LoadScriptRuntimeModule(withCreateScriptUrl)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.createScript)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (compilation.outputOptions.trustedTypes) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.getTrustedTypesPolicy);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new CreateScriptRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.createScriptUrl)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tif (compilation.outputOptions.trustedTypes) {\n\t\t\t\t\t\tset.add(RuntimeGlobals.getTrustedTypesPolicy);\n\t\t\t\t\t}\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew CreateScriptUrlRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.getTrustedTypesPolicy)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew GetTrustedTypesPolicyRuntimeModule(set)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.relativeUrl)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tcompilation.addRuntimeModule(chunk, new RelativeUrlRuntimeModule());\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.onChunksLoaded)\n\t\t\t\t.tap(\"RuntimePlugin\", (chunk, set) => {\n\t\t\t\t\tcompilation.addRuntimeModule(\n\t\t\t\t\t\tchunk,\n\t\t\t\t\t\tnew OnChunksLoadedRuntimeModule()\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t});\n\t\t\tcompilation.hooks.runtimeRequirementInTree\n\t\t\t\t.for(RuntimeGlobals.baseURI)\n\t\t\t\t.tap(\"RuntimePlugin\", chunk => {\n\t\t\t\t\tif (isChunkLoadingDisabledForChunk(chunk)) {\n\t\t\t\t\t\tcompilation.addRuntimeModule(chunk, new BaseUriRuntimeModule());\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t// TODO webpack 6: remove CompatRuntimeModule\n\t\t\tcompilation.hooks.additionalTreeRuntimeRequirements.tap(\n\t\t\t\t\"RuntimePlugin\",\n\t\t\t\t(chunk, set) => {\n\t\t\t\t\tconst { mainTemplate } = compilation;\n\t\t\t\t\tif (\n\t\t\t\t\t\tmainTemplate.hooks.bootstrap.isUsed() ||\n\t\t\t\t\t\tmainTemplate.hooks.localVars.isUsed() ||\n\t\t\t\t\t\tmainTemplate.hooks.requireEnsure.isUsed() ||\n\t\t\t\t\t\tmainTemplate.hooks.requireExtensions.isUsed()\n\t\t\t\t\t) {\n\t\t\t\t\t\tcompilation.addRuntimeModule(chunk, new CompatRuntimeModule());\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t);\n\t\t\tJavascriptModulesPlugin.getCompilationHooks(compilation).chunkHash.tap(\n\t\t\t\t\"RuntimePlugin\",\n\t\t\t\t(chunk, hash, { chunkGraph }) => {\n\t\t\t\t\tconst xor = new StringXor();\n\t\t\t\t\tfor (const m of chunkGraph.getChunkRuntimeModulesIterable(chunk)) {\n\t\t\t\t\t\txor.add(chunkGraph.getModuleHash(m, chunk.runtime));\n\t\t\t\t\t}\n\t\t\t\t\txor.updateHash(hash);\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t}\n}\nmodule.exports = RuntimePlugin;\n"]},"metadata":{},"sourceType":"script"}